<nav class="navbar {{showBurgerMenu ? 'open' : ''}}" id="navbar">
  <div class="container-fluid">
    <span class="navbar-brand {{showBurgerMenu ? 'menu-open' : ''}}" (click)="redirectHome()">
      <a routerLink="/">
        <h1>
          <span>be</span>
          <span>watched</span>
        </h1>
      <div>
        <small>La passion du vintage</small>
      </div>
      </a>
    </span>
    <div class="navbar-text nav-wrap d-flex justify-content-center align-items-center icons">
      <div class="searching">
        <span class="navbar-text search  {{searchString !== '' ? 'border-search' : ''}}" (click)="toggleSearchMobile()">
          <div class="input">
            <input type="text" [value]="searchString" (keyup)="search($event)"
                   placeholder="Recherchez une montre, un modèle..."
                   class="form-control {{showBurgerMenu ? 'menu-open' : ''}}">
            <span *ngIf="searchString !== ''" class="delete-search" (click)="deleteSearch()">X</span>
            <svg xmlns="http://www.w3.org/2000/svg" fill="#ffffff" width="22" height="19" viewBox="0 0 212.955 209">
              <g id="Calque_2" data-name="Calque 2">
                <g id="Calque_1-2" data-name="Calque 1">
                  <path
                    d="M143.455,0a69.4935,69.4935,0,0,0-57.35,108.75L2.925,191.93a9.9985,9.9985,0,1,0,14.14,14.14l82.6-82.6A69.50021,69.50021,0,1,0,143.455,0Zm0,128a58.36161,58.36161,0,0,1-35.97-12.35,59.08279,59.08279,0,0,1-7.34-6.8A58.51543,58.51543,0,1,1,143.455,128Z"/>
                </g>
              </g>
            </svg>
          </div>
        </span>
        <div class="search-result desktop {{searchString !== '' ? 'd-flex' : 'd-none'}}">
          <ul *ngIf="searchString !== ''">
            <ng-container *ngFor="let montre of searchResult">
              <li class="search-item" (click)="redirectMontreDetailFromSearch(montre.id)">{{montre.brand.name}}
                - {{montre.model}}</li>
            </ng-container>
          </ul>
        </div>
      </div>
      <!-- icone panier -->
      <span
        class="navbar-text panier position-relative {{panierIsOpen ? 'open' : ''}} {{showBurgerMenu ? 'menu-open' : ''}}"
        (onHidden)="onHidden()" [outsideClick]="true" (click)="openPanier(pop)" [popover]="popTemplate"
        placement="bottom right" triggers="" #pop="bs-popover">
      <span
        class="position-absolute top-0 start-100 translate-middle {{showBurgerMenu ? 'menu-open' : ''}} badge rounded-pill bg-danger">{{badgePanier}}
  </span>
      <svg xmlns="http://www.w3.org/2000/svg" fill="#ffffff" width="30" height="20" viewBox="0 0 205 195.48004">
          <g id="Calque_1-2" data-name="Calque 1">
            <path
              d="M172.30005,35.48H151.07a50.98471,50.98471,0,0,0-97.14,0H32.7a32.73809,32.73809,0,0,0-32.7,32.7v94.6a32.73813,32.73813,0,0,0,32.7,32.7h139.6a32.73808,32.73808,0,0,0,32.7-32.7v-94.6A32.738,32.738,0,0,0,172.30005,35.48ZM102.5,10.96a40.08571,40.08571,0,0,1,36.9,24.52H65.6A40.08571,40.08571,0,0,1,102.5,10.96ZM195,162.78a22.72157,22.72157,0,0,1-22.69995,22.7H32.7A22.72162,22.72162,0,0,1,10,162.78v-94.6a22.72162,22.72162,0,0,1,22.7-22.7h139.6a22.72157,22.72157,0,0,1,22.7,22.7Z"/>
          </g>
      </svg>
    </span>
      <span (click)="toggleBurgerMenu()" class="navbar-text burger mobile {{showBurgerMenu ? 'open' : 'close'}}">
        <svg *ngIf="!showBurgerMenu" xmlns="http://www.w3.org/2000/svg" width="40" height="50"
             viewBox="0 0 477.55501 199.50786">
        <defs>
          <style>
            .cls-2 {
              fill: none;
              stroke: #ffffff !important;
              stroke-linecap: round;
              stroke-linejoin: round;
              stroke-width: 10px;
            }
          </style>
        </defs>
          <g id="Calque_1-2" data-name="Calque 1">
            <line class="cls-2" x1="9.0275" y1="9.0275" x2="339.43418" y2="9.0275"/>
            <line class="cls-2" x1="9.93026" y1="190.48035" x2="340.33694" y2="190.48035"/>
            <line class="cls-2" x1="64.99804" y1="99.30255" x2="468.5275" y2="99.30255"/>
          </g>
      </svg>
        <svg *ngIf="showBurgerMenu" xmlns="http://www.w3.org/2000/svg" width="30" height="25" fill="#ffffff"
             viewBox="0 0 192.53637 200.16239">
          <defs><style>.cls-1 {
            fill: none;
            stroke: #ffffff;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke-width: 10.34239px;
          }</style></defs><g id="Calque_2" data-name="Calque 2"><g id="Calque_1-2" data-name="Calque 1"><path
          class="cls-1" d="M29.17119,29.17119l67.097,70.91,67.097,70.91m-134.194,0,67.097-70.91,67.097-70.91"/></g></g></svg>
      </span>
      <!-- icones certificat -->
      <span
        class="navbar-text panier position-relative {{certifIsOpen ? 'open' : ''}} {{showBurgerMenu ? 'menu-open' : ''}}"
        (onHidden)="onHiddenCertif()" [outsideClick]="true" (click)="openCertif(popCertif)" [popover]="popCertificat"
        placement="bottom right" triggers="" #popCertif="bs-popover">
        <svg id="b" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 549.9152 727.5489"><defs><style>.d {
          fill: #fff;
        }</style></defs><g id="c"><g><path
          d="M260.7702,546.29l-65.52,174.05c-3.27,8.66-12.4,9.8-14.9301,1.88l-19.42-61.02c-3.78-11.85-14.35-16.77-24.6-11.44l-52.75,27.47c-6.84,3.58-12.53-4.46-9.27-13.1l58.63-155.75,12.05,1.25c4.19,.44,8.15,2.32,11.15,5.3l.02,.02,.03,.03c.34,.34,.66,.68,.94,1.01l24.0499,28.1c8.8501,10.35,21.75,16.29,35.3701,16.29,5.9299,0,11.73-1.12,17.24-3.3199l27.01-10.77Z"/><path
          d="M195.9601,539.0699c-.0701-.0099-.14-.0099-.21-.02,.0699,0,.1299,.01,.2,.01l.01,.0099Z"/><path
          d="M446.5202,617.54l-52.73-24.72c-10.26-4.81-20.8401-.39-24.6101,10.29l-19.4299,54.91c-2.52,7.13-11.66,6.1-14.91-1.68l-46.1-110.21,27.3999,10.9301c5.52,2.2,11.3201,3.3199,17.25,3.3199,13.6301,0,26.52-5.9399,35.3701-16.29l24.02-28.07c2.0798-2.42,4.75-4.28,7.75-5.36,1.4299-.53,2.9099-.87,4.4399-1.03l10.1899-1.06,40.64,97.17c3.25,7.79-2.4301,15.01-9.2799,11.8Z"/></g><g><path
          d="M195.9501,539.06c-.0701,0-.13-.01-.2-.01,.0699,.01,.1399,.01,.21,.02l-.01-.0099Z"/><path
          d="M545.9201,262.92c6.6899-12.22,4.8501-27.35-4.5601-37.62l-24.97-27.22c-5.6399-6.15-8.7-14.23-8.5599-22.56l.64-36.94c.24-13.93-8.42-26.47-21.53-31.19l-34.76-12.5c-7.85-2.82-14.3101-8.55-18.0601-16l-16.6099-33c-5.5801-11.09-16.9001-17.92-29.0601-17.92-1.49,0-2.99,.1-4.49,.31l-36.5901,5.08c-1.5,.21-2.99,.31-4.49,.31-6.75,0-13.3899-2.11-18.9399-6.08l-30.03-21.51c-5.6699-4.06-12.3099-6.08-18.95-6.08-6.65,0-13.29,2.02-18.95,6.08l-30.04,21.51c-5.5601,3.97-12.1899,6.08-18.9399,6.08-1.49,0-2.99-.1-4.4801-.31l-36.6-5.08c-1.51-.21-3.01-.31-4.5-.31-12.16,0-23.48,6.82-29.05,17.92l-16.6,33c-3.75,7.45-10.21,13.18-18.06,16l-34.7599,12.5c-13.11,4.72-21.77,17.26-21.53,31.19l.64,36.94c.14,8.33-2.92,16.41-8.56,22.56l-24.97,27.22c-9.42,10.27-11.25,25.4-4.57,37.62l17.73,32.41c4,7.32,5.04,15.89,2.91,23.95l-9.46,35.72c-3.56,13.47,1.84,27.71,13.44,35.43l30.76,20.46c6.94,4.62,11.85,11.72,13.71,19.85l8.22,36.02c3.1,13.58,14.5,23.69,28.36,25.13l28.35,2.95,8.4,.87c.66,.07,1.3,.16,1.94,.27h.0099c6.6801,1.1,12.83,4.26,17.6201,9.02,.62,.61,1.22,1.25,1.79,1.92l24.02,28.07c1.2899,1.5,2.6599,2.84,4.1599,4.07l.01,.0099h.01c5.84,4.77,13.13,7.31,20.55,7.31,4.0499,0,8.1399-.7599,12.0599-2.3199l34.3199-13.69c1.4301-.58,2.9-1.04,4.3901-1.41,2.5099-.61,5.0798-.91,7.6499-.91,1.9299,0,3.86,.17,5.77,.52,.25,.04,.49,.09,.74,.15,1.04,.2,2.0801,.47,3.1,.79,.83,.25,1.66,.54,2.4701,.86l34.3099,13.69c3.92,1.56,8.01,2.3199,12.0599,2.3199,9.3201,0,18.42-4.0099,24.74-11.39l24.02-28.07c3.67-4.29,8.3701-7.52,13.6001-9.42,2.48-.91,5.09-1.51,7.76-1.79l6.01-.62,30.73-3.2c13.8599-1.44,25.27-11.55,28.3699-25.13l8.2201-36.02c1.86-8.13,6.76-15.23,13.71-19.85l30.76-20.46c11.6-7.72,17-21.96,13.4301-35.43l-9.45-35.72c-2.1401-8.06-1.1001-16.63,2.9099-23.95l17.72-32.41Zm-172.5699,181.04c-20.38,11.77-43.0699,19.99-67.2201,23.82-10.1499,1.62-20.5599,2.46-31.1699,2.46-5.2,0-10.3501-.2-15.45-.59-25.2001-1.96-49.0701-8.65-70.7101-19.2-65.65-31.96-110.89-99.33-110.89-177.2599,0-108.83,88.2199-197.05,197.05-197.05s197.05,88.22,197.05,197.05c0,73-39.6901,136.72-98.66,170.77Z"/><path
          class="d"
          d="M195.9501,539.06c-.0701,0-.13-.01-.2-.01,.0699,.01,.1399,.01,.21,.02l-.01-.0099Zm0,0c-.0701,0-.13-.01-.2-.01,.0699,.01,.1399,.01,.21,.02l-.01-.0099Zm0,0c-.0701,0-.13-.01-.2-.01,.0699,.01,.1399,.01,.21,.02l-.01-.0099Z"/></g><path
          d="M403.7702,185.44l-146.67,222.93c-3.12,4.73-8.5,7.6-14.27,7.6h-6.4301c-11.77,0-22.8199-5.57-29.6199-14.94l-60.0401-82.73c-4.95-6.81,.04-16.23,8.6-16.25l14.5399-.03c19.6401-.05,38.24,8.6,50.5601,23.51l14.8,17.9-.1801,.3h.36l-.1799-.3,86.08-137.31c12.9501-20.65,35.9601-33.29,60.7899-33.39l14.4701-.05c6.74-.03,10.83,7.23,7.1901,12.76Z"/></g></svg>
    </span>
      <div (click)="toggleBurgerMenu()" class="navbar-text burger {{showBurgerMenu ? 'open' : 'close'}}">
        <img *ngIf="!showBurgerMenu" src="assets/menu-burger-desktop.svg" width="45" alt="" class="desktop-burger">
        <svg *ngIf="showBurgerMenu" xmlns="http://www.w3.org/2000/svg" width="45" fill="#ffffff"
             viewBox="0 0 192.53637 200.16239">
          <defs>
            <style>.cls-1 {
              fill: none;
              stroke: #ffffff;
              stroke-linecap: round;
              stroke-linejoin: round;
              stroke-width: 10.34239px;
            }</style>
          </defs>
          <g id="Calque_2" data-name="Calque 2">
            <g id="Calque_1-2" data-name="Calque 1">
              <path class="cls-1"
                    d="M29.17119,29.17119l67.097,70.91,67.097,70.91m-134.194,0,67.097-70.91,67.097-70.91"/>
            </g>
          </g>
        </svg>

      </div>
    </div>


  </div>
</nav>
<div class="menu-desktop {{showBurgerMenu ? 'open' : 'close'}}">
  <div>
  <ul *ngIf="showBurgerMenu" class="desktop-menu">
    <li><a routerLink="" (click)="toggleBurgerMenu()">Accueil</a></li>
    <li><a routerLink="shop" (click)="toggleBurgerMenu()">La<br>boutique</a></li>
    <li><a routerLink="our-story" (click)="toggleBurgerMenu()">Notre<br>histoire</a></li>
    <li><a routerLink="contact" (click)="toggleBurgerMenu()">Contact</a></li>
  </ul>
  </div>
</div>

<div class="burger-collapse {{showBurgerMenu ? 'active' : ''}}">
  <div class="border"></div>
  <ul>
    <li><a routerLink="" (click)="toggleBurgerMenu()">Accueil</a></li>
    <li><a routerLink="shop" (click)="toggleBurgerMenu()">La<br>boutique</a></li>
    <li><a routerLink="our-story" (click)="toggleBurgerMenu()">Notre<br>histoire</a></li>
    <li><a routerLink="contact" (click)="toggleBurgerMenu()">Contact</a></li>
  </ul>
  <div class="border"></div>
</div>

<ng-template #popTemplate>
  <ng-container *ngIf="badgePanier === 0 then casVide else casItems"></ng-container>
  <ng-template #casVide>
    <span class="empty-shop">Votre panier est actuellement vide.</span>
  </ng-template>
  <ng-template #casItems>
    <span class="shop-title">Votre panier</span>
    <ng-container *ngFor="let montre of panier">
      <a (click)="redirectTo('/detail/' + montre.id)" class="shop-link-watch">
        <app-montre-item-panier [montre]="montre"></app-montre-item-panier>
      </a>
    </ng-container>
    <ng-container *ngFor="let accessory of accessories">
      <app-accessory-item-panier [accessory]="accessory"></app-accessory-item-panier>
    </ng-container>
    <div class="d-flex align-items-center justify-content-center">
      <button (click)="goToRecapPanier()" type="button" class="btn btn-valider-panier">Aller au panier</button>
    </div>
  </ng-template>
</ng-template>

<ng-template #popCertificat>
  <span class="empty-shop">Rechercher un certificat Bewatched</span>
  <div class="searching">
    <div class="form d-flex align-items-center justify-content-center">
      <span class="bw-title">BW -</span>
      <input type="text" (keyup)="createCertif($event)" placeholder="01010101" class="form-control bw-input-certif">
    </div>
    <div class="d-flex align-items-center justify-content-center">
      <button (click)="searchCertificat()" type="button" class="btn btn-valider-panier">Rechercher</button>
    </div>
  </div>
  <ng-container *ngIf="!!resultatSearchCertificat">
    <div>
      <a (click)="redirectTo('/detail/' + resultatSearchCertificat.id)" class="shop-link-watch">
        <app-montre-item-panier [activeTemplateCertif]="true"
                                [montre]="resultatSearchCertificat"></app-montre-item-panier>
      </a>
    </div>
  </ng-container>
  <ng-container *ngIf="noCertificatFound">
    <div class="bw-certif-erreur">
      <span>Ce numéro de certificat n'est pas connu de Bewatched.</span>
    </div>
  </ng-container>
</ng-template>


<div class="mobile-search-bar flex-column align-items-start justify-content-start" *ngIf="toggleMobileSearch">
  <svg (click)="toggleSearchMobile()" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor"
       class="bi bi-x-circle-fill" viewBox="0 0 16 16">
    <path
      d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>
  </svg>
  <div class="d-flex wrap">
    <input type="text" [value]="searchString" (keyup)="search($event)" placeholder="Recherchez une montre, un modèle..."
           class="form-control {{showBurgerMenu ? 'menu-open' : ''}}">
  </div>
  <div class="search-result mobile {{searchString !== '' ? 'd-flex' : 'd-none'}}">
    <ul *ngIf="searchString !== ''">
      <ng-container *ngFor="let montre of searchResult">
        <li class="search-item" (click)="redirectMontreDetailFromSearch(montre.id)">{{montre.brand.name}}
          - {{montre.model}}</li>
      </ng-container>
    </ul>
  </div>
</div>
